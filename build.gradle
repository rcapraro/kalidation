buildscript {
    ext {
        kotlinVersion = '1.2.60'
        junitJupiterVersion = "5.2.0"
        arrowVersion = "0.7.2"
    }
    repositories {
        mavenCentral()
        maven {
            url "https://plugins.gradle.org/m2/"
        }
    }
    dependencies {
        classpath("org.jetbrains.kotlin:kotlin-gradle-plugin:${kotlinVersion}")
        classpath("com.adarshr:gradle-test-logger-plugin:1.4.0")
        classpath("com.jfrog.bintray.gradle:gradle-bintray-plugin:1.8.4")
    }
}

group = "com.capraro"
version = "1.0"

apply plugin: 'kotlin'
apply plugin: 'com.adarshr.test-logger'
apply plugin: 'com.jfrog.bintray'
apply plugin: 'jacoco'

dependencies {
    compile("org.jetbrains.kotlin:kotlin-stdlib-jdk8")
    compile("org.jetbrains.kotlin:kotlin-reflect")
    compile("org.hibernate:hibernate-validator:6.0.12.Final")
    compile("com.googlecode.libphonenumber:libphonenumber:8.9.10")
    compile("org.glassfish:javax.el:3.0.1-b10")
    compile("io.arrow-kt:arrow-core:$arrowVersion")
    compile("io.arrow-kt:arrow-data:$arrowVersion")
    testCompile("org.junit.jupiter:junit-jupiter-api:$junitJupiterVersion")
    testRuntime("org.junit.jupiter:junit-jupiter-engine:$junitJupiterVersion")
    testRuntime("org.junit.platform:junit-platform-launcher:1.2.0")
    testCompile("org.assertj:assertj-core:3.11.0")
}

repositories {
    mavenCentral()
    maven {
        //for jacoco
        url "https://oss.sonatype.org/content/repositories/snapshots"
    }
}

compileKotlin {
    kotlinOptions {
        freeCompilerArgs = ["-Xjsr305=strict"]
        jvmTarget = "1.8"
    }
}
compileTestKotlin {
    kotlinOptions {
        freeCompilerArgs = ["-Xjsr305=strict"]
        jvmTarget = "1.8"
    }
}

wrapper {
    gradleVersion = '4.9.0'
}

jacoco {
    toolVersion = "0.8.2-SNAPSHOT"
}

test {
    useJUnitPlatform()
}
